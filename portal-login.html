<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>DXSO | Command Portal</title>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/tl.png">
    
    <!-- Professional Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Core Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* --- CORE DESIGN SYSTEM (Tactical Green Theme) --- */
        :root {
            --brand-green: #00ff41;
            --brand-green-dim: rgba(0, 255, 65, 0.15);
            --brand-dark: #050a0e;
            --brand-panel: #0e141a;
            --text-main: #e0e0e0;
            --text-muted: #94a3b8;
            --border-color: #1f2a36;
            --danger: #ff5f56;
            --warning: #ffbd2e;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; cursor: default; }
        body {
            background-color: var(--brand-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Subtle Noise Overlay */
        body::after {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 100;
        }

        canvas#hero-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            opacity: 0.3;
            pointer-events: none;
        }

        h1, h2, h3, h4, .mono {
            font-family: 'JetBrains Mono', monospace;
            letter-spacing: -0.02em;
        }

        /* --- LOGIN VIEW --- */
        #login-view {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            z-index: 10;
        }
        .login-card {
            width: 100%;
            max-width: 400px;
            background: var(--brand-panel);
            border: 1px solid var(--border-color);
            padding: 40px;
            border-radius: 4px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            text-align: center;
            position: relative;
        }
        .login-card::before {
            content: ''; position: absolute; top: -1px; left: -1px; right: -1px; height: 2px;
            background: var(--brand-green);
        }
        .login-logo { width: 60px; margin-bottom: 20px; color: var(--brand-green); }
        .login-card h2 { color: white; margin-bottom: 8px; font-size: 1.2rem; text-transform: uppercase; }
        .login-card p { color: var(--text-muted); font-size: 0.8rem; margin-bottom: 30px; font-family: 'JetBrains Mono'; }
        
        .input-group { text-align: left; margin-bottom: 20px; }
        .input-group label { display: block; font-family: 'JetBrains Mono'; font-size: 0.65rem; color: var(--brand-green); text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px; }
        .input-field {
            width: 100%; background: #050a0e; border: 1px solid var(--border-color);
            border-radius: 2px; padding: 12px; color: white; outline: none; transition: 0.3s;
            font-family: 'JetBrains Mono'; font-size: 0.9rem;
        }
        .input-field:focus { border-color: var(--brand-green); box-shadow: 0 0 10px rgba(0, 255, 65, 0.1); }
        
        .login-btn {
            width: 100%; padding: 14px; background: rgba(0, 255, 65, 0.05); color: var(--brand-green);
            border: 1px solid var(--brand-green); font-weight: 700; font-family: 'JetBrains Mono';
            text-transform: uppercase; letter-spacing: 1px; cursor: pointer; transition: 0.3s;
        }
        .login-btn:hover { background: var(--brand-green); color: var(--brand-dark); box-shadow: 0 0 20px rgba(0, 255, 65, 0.3); }
        
        #login-error { color: var(--danger); font-size: 0.7rem; margin-top: 15px; font-family: 'JetBrains Mono'; display: none; }

        /* --- DASHBOARD VIEW --- */
        #dashboard-view {
            display: none;
            height: 100vh;
            grid-template-columns: 240px 1fr;
            position: relative;
            z-index: 10;
        }

        .sidebar {
            background: #080c10;
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            padding: 30px 0;
        }
        .sb-logo { padding: 0 25px; margin-bottom: 40px; color: white; font-weight: 800; font-size: 1.1rem; letter-spacing: 1px; }
        .sb-logo span { color: var(--brand-green); }
        
        .sb-nav { flex: 1; padding: 0 12px; }
        .nav-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 15px;
            color: var(--text-muted); border-radius: 2px; font-family: 'JetBrains Mono';
            font-size: 0.75rem; text-transform: uppercase; transition: 0.2s; margin-bottom: 4px;
            cursor: pointer;
        }
        .nav-item:hover, .nav-item.active { background: rgba(0, 255, 65, 0.05); color: var(--brand-green); }
        .nav-item i { width: 16px; height: 16px; }

        .sb-user { padding: 20px; border-top: 1px solid var(--border-color); margin: 0 12px; }
        .user-flex { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .avatar { width: 32px; height: 32px; background: var(--brand-green); border-radius: 2px; display: flex; align-items: center; justify-content: center; color: var(--brand-dark); font-weight: 800; font-size: 0.8rem; }
        .user-info h5 { font-size: 0.8rem; color: white; font-family: 'JetBrains Mono'; }
        .logout-btn { background: transparent; border: none; color: var(--danger); font-size: 0.65rem; font-family: 'JetBrains Mono'; cursor: pointer; text-transform: uppercase; display: flex; align-items: center; gap: 5px; opacity: 0.7; }
        .logout-btn:hover { opacity: 1; }

        /* Main Content Area */
        .main-content { padding: 40px; overflow-y: auto; }
        .content-section { display: none; }
        .content-section.active { display: block; }

        .header-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
        .status-badge { display: flex; align-items: center; gap: 8px; font-family: 'JetBrains Mono'; font-size: 0.6rem; color: var(--brand-green); border: 1px solid var(--brand-green-dim); padding: 5px 12px; background: rgba(0, 255, 65, 0.02); text-transform: uppercase; }
        .pulse-dot { width: 6px; height: 6px; background: var(--brand-green); border-radius: 50%; box-shadow: 0 0 8px var(--brand-green); animation: pulse 2s infinite; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* Data Containers */
        .data-panel {
            background: var(--brand-panel); border: 1px solid var(--border-color);
            padding: 25px; margin-bottom: 25px;
        }
        .data-panel h3 { font-size: 1rem; color: white; margin-bottom: 20px; text-transform: uppercase; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }

        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; font-family: 'JetBrains Mono'; font-size: 0.65rem; color: var(--brand-green); text-transform: uppercase; padding: 12px; border-bottom: 1px solid var(--border-color); opacity: 0.8; }
        td { padding: 14px 12px; font-size: 0.8rem; border-bottom: 1px solid rgba(255,255,255,0.02); color: var(--text-main); }
        
        .status-pill { padding: 2px 8px; border-radius: 2px; font-size: 0.65rem; font-family: 'JetBrains Mono'; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); }

        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: var(--brand-panel); border: 1px solid var(--border-color); padding: 25px; position: relative; overflow: hidden; }
        .stat-card::after { content: ''; position: absolute; left: 0; bottom: 0; height: 2px; width: 100%; background: var(--border-color); }
        .stat-card:hover::after { background: var(--brand-green); }
        .stat-card h6 { font-family: 'JetBrains Mono'; font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase; margin-bottom: 15px; }
        .stat-card .val { font-size: 1.8rem; font-weight: 700; color: white; font-family: 'JetBrains Mono'; }

        /* Logs */
        .log-line { padding: 8px 0; font-family: 'JetBrains Mono'; font-size: 0.75rem; display: flex; gap: 15px; border-bottom: 1px solid rgba(255,255,255,0.01); }
        .log-ts { color: #475569; }
        .log-msg.alert { color: var(--brand-green); font-weight: 700; }

        /* Traffic Bar */
        .traffic-bar-container { height: 4px; background: #1a2329; margin-top: 10px; }
        .traffic-bar { height: 100%; background: var(--brand-green); box-shadow: 0 0 10px var(--brand-green); }

        /* Configuration Toggles */
        .config-row { display: flex; justify-content: space-between; align-items: center; padding: 18px 0; border-bottom: 1px solid rgba(255,255,255,0.03); }
        .config-info h4 { font-size: 0.9rem; color: white; margin-bottom: 4px; font-family: 'JetBrains Mono'; }
        .config-info p { font-size: 0.75rem; color: var(--text-muted); }

        .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #1a2329; border: 1px solid var(--border-color); transition: .3s; }
        .slider:before { position: absolute; content: ""; height: 12px; width: 12px; left: 3px; bottom: 3px; background-color: #444; transition: .3s; }
        input:checked + .slider { border-color: var(--brand-green); }
        input:checked + .slider:before { transform: translateX(20px); background-color: var(--brand-green); box-shadow: 0 0 10px var(--brand-green); }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #1f2a36; }

        /* --- TACTICAL CURSOR HUD --- */
        #tacticalCursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10000;
        }

        /* Hide default cursor on desktop for high-precision feel */
        @media (min-width: 1025px) {
            html, body, a, button, .btn, h1, h2, .ind-card { 
                cursor: none !important; 
            }
        }
    </style>
</head>

<body>
    <canvas id="tacticalCursor"></canvas>
    <canvas id="hero-canvas"></canvas>

    <!-- VIEW 1: LOGIN -->
    <div id="login-view">
        <div class="login-card">
            <svg class="login-logo" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
            <h2>Secure Uplink</h2>
            <p>DXSO-CORE TERMINAL v4.0.1</p>
            
            <form id="login-form">
                <div class="input-group">
                    <label>Access Identity</label>
                    <input type="text" id="username" class="input-field" placeholder="UID" required autocomplete="off">
                </div>
                <div class="input-group">
                    <label>Auth Keyphrase</label>
                    <input type="password" id="password" class="input-field" placeholder="********" required>
                </div>
                <button type="submit" class="login-btn">Initialize Session</button>
            </form>
            <div id="login-error">AUTH_FAILURE: Check credentials.</div>
        </div>
    </div>

    <!-- VIEW 2: DASHBOARD -->
    <div id="dashboard-view">
        <aside class="sidebar">
            <div class="sb-logo">DX<span>SO</span></div>
            <nav class="sb-nav">
                <div class="nav-item active" onclick="switchView('overview', this)"><i data-lucide="layout-dashboard"></i> Overview</div>
                <div class="nav-item" onclick="switchView('incidents', this)"><i data-lucide="shield-alert"></i> Incidents</div>
                <div class="nav-item" onclick="switchView('traffic', this)"><i data-lucide="activity"></i> Traffic</div>
                <div class="nav-item" onclick="switchView('assets', this)"><i data-lucide="server"></i> Assets</div>
                <div class="nav-item" onclick="switchView('config', this)"><i data-lucide="settings"></i> Config</div>
            </nav>
            <div class="sb-user">
                <div class="user-flex">
                    <div class="avatar">AD</div>
                    <div class="user-info">
                        <h5>Admin</h5>
                        <button class="logout-btn" onclick="logout()"><i data-lucide="log-out" size="10"></i> Disconnect</button>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <header class="header-flex">
                <div>
                    <h2 id="view-title" style="color: white; text-transform: uppercase;">Operational Overview</h2>
                    <p id="view-subtitle" style="color: var(--brand-green); font-family: 'JetBrains Mono'; font-size: 0.7rem; text-transform: uppercase; margin-top: 5px;">Threat Surface: STABLE</p>
                </div>
                <div class="status-badge">
                    <div class="pulse-dot"></div>
                    SOC NODE: HK-04
                </div>
            </header>

            <!-- SECTION: OVERVIEW -->
            <div id="section-overview" class="content-section active">
                <div class="stat-grid">
                    <div class="stat-card">
                        <h6>Nodes Monitored</h6>
                        <span class="val">14,202</span>
                    </div>
                    <div class="stat-card">
                        <h6>Active Alerts</h6>
                        <span class="val" id="threat-count" style="color: var(--brand-green)">0</span>
                    </div>
                    <div class="stat-card">
                        <h6>Ingest Rate</h6>
                        <span class="val">542.8 TB</span>
                    </div>
                </div>
                <div class="data-panel">
                    <h3>Kernel Intelligence Feed</h3>
                    <div id="live-logs"></div>
                </div>
            </div>

            <!-- SECTION: INCIDENTS -->
            <div id="section-incidents" class="content-section">
                <div class="data-panel">
                    <h3>Active Security Events</h3>
                    <table>
                        <thead>
                            <tr><th>Severity</th><th>Vector</th><th>Target</th><th>Timestamp</th><th>Action</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><span style="color:var(--danger)">CRITICAL</span></td><td>Brute Force</td><td>184.22.XX.XX</td><td>02:14:02</td><td><span class="status-pill" style="color: var(--brand-green)">PURGED</span></td></tr>
                            <tr><td><span style="color:var(--warning)">MEDIUM</span></td><td>SQL Injection</td><td>DB-SRV-04</td><td>02:08:44</td><td><span class="status-pill">WATCHING</span></td></tr>
                            <tr><td><span style="color:var(--warning)">MEDIUM</span></td><td>Anomalous API</td><td>AWS-PROD-01</td><td>01:55:12</td><td><span class="status-pill">RESOLVED</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- SECTION: TRAFFIC -->
            <div id="section-traffic" class="content-section">
                <div class="stat-grid">
                    <div class="stat-card">
                        <h6>Inbound</h6>
                        <span class="val">1.2M/s</span>
                        <div class="traffic-bar-container"><div class="traffic-bar" style="width: 70%"></div></div>
                    </div>
                    <div class="stat-card">
                        <h6>Outbound</h6>
                        <span class="val">482K/s</span>
                        <div class="traffic-bar-container"><div class="traffic-bar" style="width: 35%"></div></div>
                    </div>
                    <div class="stat-card">
                        <h6>Tunneling</h6>
                        <span class="val">98.4%</span>
                        <div class="traffic-bar-container"><div class="traffic-bar" style="width: 95%"></div></div>
                    </div>
                </div>
            </div>

            <!-- SECTION: ASSETS -->
            <div id="section-assets" class="content-section">
                <div class="data-panel">
                    <h3>Shielded Asset Inventory</h3>
                    <table>
                        <thead><tr><th>Asset UID</th><th>Platform</th><th>Kernel Shield</th><th>Last Sync</th></tr></thead>
                        <tbody>
                            <tr><td>DXSO-WK-12</td><td>macOS Silicon</td><td><span style="color: var(--brand-green)">ACTIVE</span></td><td>2s ago</td></tr>
                            <tr><td>DXSO-SRV-01</td><td>Ubuntu LTS</td><td><span style="color: var(--brand-green)">ACTIVE</span></td><td>14s ago</td></tr>
                            <tr><td>DXSO-WK-99</td><td>Windows 11</td><td><span style="color: var(--warning)">SYNC_ERR</span></td><td>1m ago</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- SECTION: CONFIG -->
            <div id="section-config" class="content-section">
                <div class="data-panel">
                    <h3>Global Security Policies</h3>
                    <div class="config-row">
                        <div class="config-info"><h4>Autonomous Isolation</h4><p>Auto-kill network sessions on critical alerts.</p></div>
                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                    </div>
                    <div class="config-row">
                        <div class="config-info"><h4>Deep Kernel Ingest</h4><p>Enable sub-ms telemetry agents.</p></div>
                        <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
                    </div>
                    <div class="config-row">
                        <div class="config-info"><h4>Zero-Trust Movement</h4><p>Enforce MFA on every lateral node jump.</p></div>
                        <label class="switch"><input type="checkbox"><span class="slider"></span></label>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // --- AUTHENTICATION ---
        const loginForm = document.getElementById('login-form');
        const loginView = document.getElementById('login-view');
        const dashboardView = document.getElementById('dashboard-view');
        const loginError = document.getElementById('login-error');

        loginForm.onsubmit = (e) => {
            e.preventDefault();
            if (document.getElementById('username').value === 'admin' && document.getElementById('password').value === 'admin') {
                gsap.to('.login-card', { opacity: 0, y: -20, duration: 0.4, onComplete: () => {
                    loginView.style.display = 'none';
                    dashboardView.style.display = 'grid';
                    initDashboard();
                }});
            } else {
                loginError.style.display = 'block';
                gsap.fromTo(loginError, { x: -5 }, { x: 5, repeat: 5, duration: 0.05, yoyo: true });
            }
        };

        function logout() { location.reload(); }

        // --- NAVIGATION ---
        function switchView(viewName, element) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            element.classList.add('active');

            const titles = {
                overview: ["Operational Overview", "Threat Surface: Stable"],
                incidents: ["Threat incidents", "Vector Tracking: Active"],
                traffic: ["Network Fabric", "IOPS Analytics: Nominal"],
                assets: ["Asset Inventory", "Deployment State: Shielded"],
                config: ["Policy Config", "Command Logic: v4.0.1"]
            };
            document.getElementById('view-title').innerText = titles[viewName][0];
            document.getElementById('view-subtitle').innerText = titles[viewName][1];

            const activeSection = document.querySelector('.content-section.active');
            const targetSection = document.getElementById('section-' + viewName);

            if (activeSection === targetSection) return;
            gsap.to(activeSection, { opacity: 0, x: -10, duration: 0.2, onComplete: () => {
                activeSection.classList.remove('active');
                targetSection.classList.add('active');
                gsap.fromTo(targetSection, { opacity: 0, x: 10 }, { opacity: 1, x: 0, duration: 0.3 });
            }});
        }

        // --- DASHBOARD LOGIC ---
        function initDashboard() {
            lucide.createIcons();
            startLiveIntel();
            animateNumbers();
        }

        const logMessages = [
            "SCANNING ENDPOINTS... [OK]", "AWS-US-EAST-1: TELEMETRY INGESTED", "BEHAVIORAL ENGINE: STABLE",
            "ALERT: LATERAL SCAN BLOCKED", "NODE: HK-04 STATUS: VIGILANT", "THREAT NEUTRALIZED", "SIEM_EVENT: SYNC_SUCCESS"
        ];

        function startLiveIntel() {
            const container = document.getElementById('live-logs');
            setInterval(() => {
                const ts = new Date().toLocaleTimeString([], {hour12:false});
                const msg = logMessages[Math.floor(Math.random() * logMessages.length)];
                const line = document.createElement('div');
                line.className = 'log-line';
                line.innerHTML = `<span class="log-ts">[${ts}]</span> <span class="log-msg ${msg.includes('ALERT') ? 'alert' : ''}">${msg}</span>`;
                container.prepend(line);
                if (container.children.length > 8) container.removeChild(container.lastChild);
            }, 2500);
        }

        function animateNumbers() {
            const countEl = document.getElementById('threat-count');
            setInterval(() => {
                const c = Math.floor(Math.random() * 3);
                countEl.innerText = c;
                countEl.style.color = c > 1 ? 'var(--danger)' : 'var(--brand-green)';
            }, 5000);
        }

        // --- CANVAS PARTICLES ---
        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, particles = [];
        function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize); resize();
        class Particle {
            constructor() { this.reset(); }
            reset() { this.x = Math.random() * w; this.y = Math.random() * h; this.v = Math.random() * 0.5 + 0.2; this.s = Math.random() * 1.5; }
            update() { this.y -= this.v; if (this.y < 0) this.reset(); }
            draw() { ctx.fillStyle = '#00ff41'; ctx.beginPath(); ctx.arc(this.x, this.y, this.s, 0, Math.PI*2); ctx.fill(); }
        }
        for(let i=0; i<60; i++) particles.push(new Particle());
        function anim() { ctx.clearRect(0,0,w,h); particles.forEach(p => { p.update(); p.draw(); }); requestAnimationFrame(anim); }
        anim();

        // --- TACTICAL CURSOR ANIMATION ---
        (function() {
            const cursorCanvas = document.getElementById('tacticalCursor');
            const cctx = cursorCanvas.getContext('2d');
            
            let mouseCoord = { x: 0, y: 0 };
            let centerPlus = { x: 0, y: 0 }; 
            let laggedRing = { x: 0, y: 0 }; 
            let isHeadingHovered = false;
            let cursorRadius = 10;

            const resizeCursor = () => {
                cursorCanvas.width = window.innerWidth;
                cursorCanvas.height = window.innerHeight;
            };
            window.addEventListener('resize', resizeCursor);
            resizeCursor();

            window.addEventListener('mousemove', (e) => {
                mouseCoord.x = e.clientX;
                mouseCoord.y = e.clientY;
                // Expands when hovering over any H1 or H2 heading
                isHeadingHovered = !!e.target.closest('h1, h2');
            });

            function animateCursor() {
                cctx.clearRect(0, 0, cursorCanvas.width, cursorCanvas.height);

                // Movement Physics
                centerPlus.x += (mouseCoord.x - centerPlus.x) * 0.6; 
                centerPlus.y += (mouseCoord.y - centerPlus.y) * 0.6;
                
                laggedRing.x += (mouseCoord.x - laggedRing.x) * 0.15; 
                laggedRing.y += (mouseCoord.y - laggedRing.y) * 0.15;

                // Size Transition logic
                const targetRad = isHeadingHovered ? 50 : 10;
                cursorRadius += (targetRad - cursorRadius) * 0.15;

                const cursorColor = '#ffffff';

                // 1. Draw The Lagged Ring (The Scanner)
                cctx.beginPath();
                cctx.arc(laggedRing.x, laggedRing.y, cursorRadius, 0, Math.PI * 2);
                cctx.strokeStyle = cursorColor;
                cctx.lineWidth = 1;
                cctx.globalAlpha = isHeadingHovered ? 0.6 : 0.3;
                cctx.stroke();

                // 2. Draw The Snappy Plus (The Reticle)
                cctx.beginPath();
                cctx.strokeStyle = cursorColor;
                cctx.lineWidth = 1.5;
                cctx.globalAlpha = 1;
                const pSize = 6;
                cctx.moveTo(centerPlus.x, centerPlus.y - pSize); cctx.lineTo(centerPlus.x, centerPlus.y + pSize);
                cctx.moveTo(centerPlus.x - pSize, centerPlus.y); cctx.lineTo(centerPlus.x + pSize, centerPlus.y);
                cctx.stroke();

                requestAnimationFrame(animateCursor);
            }
            animateCursor();
        })();
    </script>
</body>
</html>
